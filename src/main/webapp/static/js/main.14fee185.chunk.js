(window.webpackJsonpweb=window.webpackJsonpweb||[]).push([[0],{126:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(14),c=t.n(r),i=(t(91),t(21)),o=t(23),s=(t(93),t(18)),u=t(36),m=t(37),d=t(149),f=t(127),E=t(29),g=t(28),h=t(17),p=t(5),b=function(){function e(){Object(g.a)(this,e),this.vehicles=[],this.brands=["Volvo","Renault","Iveco","Scania"],this.fuelType=["Gas","El"],this.newBrand="",this.newModel="",this.newPrice="",this.newMaxWeight="",this.newMaxRange="",this.newFuelType="",this.newImageLink="",this.selectedBrands=[""],this.selectedFuelTypes=[""],this.searchModel="",this.searchMinWeight=0,this.searchMaxWeight=0,this.searchMinRange=0,this.searchMaxRange=0}return Object(h.a)(e,[{key:"filteredVehicles",get:function(){var e=this;return v.vehicles.filter((function(a){return(e.selectedBrands.length<=1||e.selectedBrands.includes(a.brand))&&(e.selectedFuelTypes.length<=1||e.selectedFuelTypes.includes(a.fuelType))&&a.model.toLowerCase().includes(e.searchModel.toLowerCase())&&(0===e.searchMinWeight||Number(a.maxWeight)>=Number(e.searchMinWeight))&&(0===e.searchMaxWeight||Number(a.maxWeight)<=Number(e.searchMaxWeight))&&(0===e.searchMinRange||Number(a.maxRange)>=Number(e.searchMinRange))&&(0===e.searchMaxRange||Number(a.maxRange)<=Number(e.searchMaxRange))}))}}]),e}();Object(p.g)(b,{vehicles:p.l,newBrand:p.l,newModel:p.l,newPrice:p.l,newMaxWeight:p.l,newMaxRange:p.l,newFuelType:p.l,newImageLink:p.l,selectedBrands:p.l,selectedFuelTypes:p.l,searchModel:p.l,searchMinWeight:p.l,searchMaxWeight:p.l,searchMinRange:p.l,searchMaxRange:p.l,filteredVehicles:p.d});var v=new b,x=Object(i.a)((function(){return l.a.createElement("div",null,l.a.createElement(s.a,null,l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:6,offset:3},style:{background:"#fff",padding:"20pt",border:"1px solid",borderColor:"#d8dee2",borderRadius:"5pt"}},l.a.createElement(s.a,null,l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"Brand"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",value:v.newBrand,onChange:function(e){return v.newBrand=e.target.value}})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"Model navn"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",value:v.newModel,onChange:function(e){return v.newModel=e.target.value}})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"Drivmidel"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",value:v.newFuelType,onChange:function(e){return v.newFuelType=e.target.value}})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"Max v\xe6gt"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",value:v.newMaxWeight,onChange:function(e){return v.newMaxWeight=e.target.value}})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"Max r\xe6kkevidde"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",value:v.newMaxRange,onChange:function(e){return v.newMaxRange=e.target.value}})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"Price"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",value:v.newPrice,onChange:function(e){return v.newPrice=e.target.value}})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement(E.a,{onClick:function(){v.vehicles.push({brand:v.newBrand,model:v.newModel,fuelType:v.newFuelType,maxWeight:v.newMaxWeight,maxRange:v.newMaxRange,price:v.newPrice,imageLink:"https://f.nordiskemedier.dk/2gvdpo4v0qz2xyeb.jpg"})},style:{width:"100%",background:"#637724",borderColor:"#637724"}},"Opret K\xf8ret\xf8j"))))))))}));function w(){return l.a.createElement("div",null,l.a.createElement(s.a,null,l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:6,offset:3},style:{background:"#fff",padding:"20pt",border:"1px solid",borderColor:"#d8dee2",borderRadius:"5pt"}},l.a.createElement(s.a,null,l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"Firm"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"First Name"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"Last Name"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"Email"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"Password"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"Password Confirm"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement(E.a,{style:{width:"100%",background:"#637724",borderColor:"#637724"}},"Opret bruger"))))))))}var k=t(43),y=t(62),T=t(58),N=t.n(T),G=t(75),O=new(function(){function e(){Object(g.a)(this,e)}return Object(h.a)(e,[{key:"doGoogleLogin",value:function(e,a){var t=this;fetch("rest/loginGoogle",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){e.text().then((function(e){200===JSON.parse(e)&&fetch("rest/loginGoogle/getToken",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.status),e.text().then((function(e){console.log("Katoffel"),C.token=e,localStorage.setItem("NofossToken",e),C.state=C.loginStates.LOGGED_IN,C.startTokenCheck()}))}))}))})).catch((function(){return t.state=C.loginStates.LOGGED_OUT}))}},{key:"doLogin",value:function(e){var a=this;fetch("rest/login",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status&&e.text().then((function(e){C.token=e,localStorage.setItem("NofossToken",e),C.state=C.loginStates.LOGGED_IN,C.startTokenCheck()}))})).catch((function(){return a.state=C.loginStates.LOGGED_OUT}))}},{key:"doVehicleFetch",value:function(){var e=Object(G.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("rest/mongo/GET/dummyData",{method:"GET",headers:{Authorization:"Bearer "+C.token}}).then((function(e){v.vehicles=e})).catch((function(){return console.log("couldn't fetch")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),M=t(76),D=function(){function e(){Object(g.a)(this,e),this.loginStates={LOGGING_IN:"loading",LOGGED_OUT:"logout",LOGGED_IN:"LoggedIn"},this.token=window.localStorage.getItem("NofossToken"),this.adminNavBar=[{href:"#/search",name:"S\xf8g k\xf8ret\xf8j"},{href:"#/create/vehicle",name:"Opret k\xf8ret\xf8j"},{href:"#/profile",name:"Profil"}],this.loginData={username:"",password:""},this.state=this.loginStates.LOGGED_OUT,this.token&&(console.log(this.token),this.state=this.loginStates.LOGGED_IN),this.startTokenCheck()}return Object(h.a)(e,[{key:"doLogin",value:function(){O.doLogin(this.loginData)}},{key:"startTokenCheck",value:function(){var e=this;if(this.token){var a=this.token.split(".")[1],t=JSON.parse(window.atob(a)),n=new Date(1e3*t.exp)-new Date-1e4;this.timer=setTimeout((function(){localStorage.clear(),e.token=null,e.state=e.loginStates.LOGGED_OUT,M.a.warn("Dit login er udl\xf8bet. Log ind igen")}),n)}}}]),e}();Object(p.g)(D,{state:p.l});var C=new D,L=Object(i.a)((function(){return l.a.createElement(s.a,null,l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:8,offset:0}},l.a.createElement(k.a,{bg:"light",expand:"lg"},l.a.createElement(k.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(k.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(y.a,{className:"mr-auto"},l.a.createElement(k.a.Brand,{href:"#/search"},"Nofoss"),C.adminNavBar.map((function(e){return l.a.createElement(y.a.Link,{href:e.href},e.name)})))))),l.a.createElement(m.a,{md:{span:4,offset:0},className:"d-none d-lg-block"},l.a.createElement("img",{src:"https://i.imgur.com/bVMYcYR.png",className:"Logo",alt:"NoFoss Logo"}))))})),B=t(79),S=t.n(B),R=function(){var e=function(e){e.w3.U3&&O.doGoogleLogin(e.accessToken,e.w3.U3)};return l.a.createElement("div",null,l.a.createElement(s.a,null,l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:6,offset:3},style:{background:"#fff",padding:"20pt",border:"1px solid",borderColor:"#d8dee2",borderRadius:"5pt"}},l.a.createElement(s.a,null,l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"Email"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:function(e){return C.loginData.username=e.target.value}})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:10,offset:1}},l.a.createElement("text",null,"Password"),l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{id:"passwordText",type:"password","aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:function(e){return C.loginData.password=e.target.value}})))),l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:5,offset:1}},l.a.createElement(E.a,{onClick:j,style:{width:"100%",background:"#637724",borderColor:"#637724"}},"Login")),l.a.createElement(m.a,{md:{span:5,offset:0}},l.a.createElement(E.a,{href:"#/create/User",style:{width:"100%",background:"#fff",border:"1px solid",borderColor:"#637724",color:"#637724"}},"Opret bruger")),l.a.createElement(m.a,{md:{span:5,offset:1}},l.a.createElement(S.a,{clientId:"535992274215-0i5rm3il5tt76ds4k3a6048pjocvcmob.apps.googleusercontent.com",buttonText:"Login",onSuccess:e,onFailure:e,cookiePolicy:"single_host_origin"}))))))))};function j(){C.doLogin()}t(22);var z=t(63),W=t(44);function F(e){var a=e.Car,t=a.model,n=a.brand,r=a.price,c=a.fuelType,i=a.maxWeight,o=a.maxRange,s=a.imageLink;return l.a.createElement(W.a,null,l.a.createElement(u.a,null,l.a.createElement(m.a,{md:{span:4,offset:0}},l.a.createElement(W.a.Header,null,n," - ",t),l.a.createElement(W.a.Body,null,l.a.createElement("img",{style:{width:"100%"},src:s,alt:"Billede af bil"}))),l.a.createElement(m.a,null,l.a.createElement(W.a.Body,null,"Pris: ",r," kr.",l.a.createElement("br",null),"Totalv\xe6gt: ",i," kg.",l.a.createElement("br",null),"Total r\xe6kkevidde: ",o," km.",l.a.createElement("br",null),"Br\xe6ndstof: ",c,"."))))}var I=t(40),P=t.n(I),_=t(59),A=t.n(_),U=t(153);var V=Object(i.a)((function(){var e=l.a.useState([0,100]),a=Object(z.a)(e,2),t=(a[0],a[1],l.a.useState({Volvo:!0,Mercedes:!0,Ford:!0})),n=Object(z.a)(t,2),r=(n[0],n[1],v.brands.map((function(e,a){return l.a.createElement(U.a,{key:a,control:l.a.createElement(A.a,{value:e,onChange:function(a){if(a.target.checked)v.selectedBrands.push(e),console.log(v.selectedBrands);else{var t=v.selectedBrands.indexOf(a.target.value);t>-1&&v.selectedBrands.splice(t,1)}}}),label:e})}))),c=v.fuelType.map((function(e,a){return l.a.createElement(U.a,{key:a,control:l.a.createElement(A.a,{value:e,onChange:function(a){if(a.target.checked)v.selectedFuelTypes.push(e),console.log(v.selectedFuelTypes);else{var t=v.selectedFuelTypes.indexOf(a.target.value);t>-1&&v.selectedFuelTypes.splice(t,1)}}}),label:e})}));return l.a.createElement(s.a,null,l.a.createElement(u.a,null,l.a.createElement(m.a,null,l.a.createElement(P.a,{gutterBottom:!0},"M\xe6rke"),l.a.createElement(u.a,null,r),l.a.createElement(P.a,{gutterBottom:!0},"Model"),l.a.createElement(u.a,null,l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:function(e){return v.searchModel=e.target.value}}))),l.a.createElement(P.a,{gutterBottom:!0},"V\xe6gt"),l.a.createElement(u.a,null,l.a.createElement(m.a,null,l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(d.a.Append,null,l.a.createElement(d.a.Text,{id:"basic-addon2"},"min")),l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:function(e){return v.searchMinWeight=e.target.value}}),l.a.createElement(d.a.Append,null,l.a.createElement(d.a.Text,{id:"basic-addon2"},"kg.")))),l.a.createElement(m.a,null,l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(d.a.Append,null,l.a.createElement(d.a.Text,{id:"basic-addon2"},"max")),l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:function(e){return v.searchMaxWeight=e.target.value}}),l.a.createElement(d.a.Append,null,l.a.createElement(d.a.Text,{id:"basic-addon2"},"kg."))))),l.a.createElement(P.a,{gutterBottom:!0},"R\xe6kkevidde"),l.a.createElement(u.a,null,l.a.createElement(m.a,null,l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(d.a.Append,null,l.a.createElement(d.a.Text,{id:"basic-addon2"},"min")),l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:function(e){return v.searchMinRange=e.target.value}}),l.a.createElement(d.a.Append,null,l.a.createElement(d.a.Text,{id:"basic-addon2"},"km.")))),l.a.createElement(m.a,null,l.a.createElement(d.a,{className:"mb-3"},l.a.createElement(d.a.Append,null,l.a.createElement(d.a.Text,{id:"basic-addon2"},"max")),l.a.createElement(f.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:function(e){return v.searchMaxRange=e.target.value}}),l.a.createElement(d.a.Append,null,l.a.createElement(d.a.Text,{id:"basic-addon2"},"km."))))),l.a.createElement(P.a,{gutterBottom:!0},"Drivmiddel"),l.a.createElement(u.a,null,c)),l.a.createElement(m.a,{xs:8,style:{overflow:"scroll"}},v.filteredVehicles.map((function(e){return l.a.createElement(F,{Car:e})})))))})),J=Object(i.a)((function(){return l.a.createElement("h1",null,"Her vil dine profil indstillinger blive vist")}));var H=Object(i.a)((function(){return l.a.createElement(s.a,null,l.a.createElement(L,null),l.a.createElement(o.c,null,C.state!==C.loginStates.LOGGED_IN&&l.a.createElement(R,null),C.state===C.loginStates.LOGGED_IN&&l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,{exact:!0,path:"/login",component:R}),l.a.createElement(o.a,{exact:!0,path:"/search",component:V}),l.a.createElement(o.a,{exact:!0,path:"/create/vehicle",component:x}),l.a.createElement(o.a,{exact:!0,path:"/create/user",component:w}),l.a.createElement(o.a,{exact:!0,path:"/profile",component:J}),l.a.createElement(o.a,{exact:!0,path:"/",component:V}),l.a.createElement(o.a,{render:function(){return l.a.createElement("h1",null,"404")}})),"/*",l.a.createElement(o.a,{render:function(){return l.a.createElement("h1",null,"404")}}),"*/"))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=t(47);c.a.render(l.a.createElement(K.a,null,l.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,a,t){e.exports=t(126)},91:function(e,a,t){},93:function(e,a,t){}},[[86,1,2]]]);
//# sourceMappingURL=main.14fee185.chunk.js.map